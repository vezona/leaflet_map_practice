import{L as n}from"./leaflet-src.e5d4c8e0.js";import"./leaflet.draw.abde4e00.js";import{_ as m}from"./index.90411537.js";import{i as w,j as g,o as h,c as y,g as l,p as j,f as v}from"./vendor.e39d45be.js";const F={setup(){let e,o;const i=()=>{e=n.map("map",{center:[25.0263064,121.5262934],zoom:10}),e.zoomControl.setPosition("bottomright"),n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'\xA9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>contributors'}).addTo(e),o=new n.FeatureGroup,o.addTo(e);const a=new n.Control.Draw({position:"topright",draw:{rectangle:{showArea:!1}},edit:{featureGroup:o}});e.addControl(a),e.on("draw:created",function(t){const s=t.layer;o.addLayer(s)})},r=a=>{let t=a.target.files[0],s=new FileReader;s.readAsText(t),s.onload=()=>{const _=JSON.parse(s.result),f=n.geoJSON(_,{onEachFeature:p,pointToLayer:c});console.log("layers",f)}};function p(a,t){console.log("layer",t),o.addLayer(t)}function c(a,t){return console.log(a.properties.name),a.properties.name!==void 0?n.circleMarker(t,{radius:20,color:"deeppink"}).bindTooltip(`<p>${a.properties.name}</p>`):n.marker(t)}const d=w(),u=()=>{d.value="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(o.toGeoJSON()))};return g(()=>{i()}),{uploadFile:r,jsonObj:d,downloadFile:u}}},S=e=>(j("data-v-7ad594aa"),e=e(),v(),e),O={class:"wrap"},x=S(()=>l("div",{id:"map"},null,-1)),b={class:"geoJson_info"},k=["href"];function C(e,o,i,r,p,c){return h(),y("div",O,[x,l("div",b,[l("input",{type:"file",onChange:o[0]||(o[0]=(...d)=>r.uploadFile&&r.uploadFile(...d))},null,32),l("a",{href:r.jsonObj,download:"data.geojson",class:"downloadGeoJSON",onClick:o[1]||(o[1]=(...d)=>r.downloadFile&&r.downloadFile(...d))},"\u4E0B\u8F09GeoJSON\u6A94\u6848",8,k)])])}var L=m(F,[["render",C],["__scopeId","data-v-7ad594aa"]]);export{L as default};
